/*
Copyright (c) 2008, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.net/yui/license.txt
version: 2.5.1
*/
(function(){var T=function(){};var E=YAHOO.util;var U=/^(?:([-]?\d*)(n){1}|(odd|even)$)*([-+]?\d*)$/;T.prototype={document:window.document,attrAliases:{"for":"htmlFor"},shorthand:{"\\#(-?[_a-z]+[-\\w]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w]*)":"[class~=$1]"},operators:{"=":function(W,X){return W===X;},"!=":function(W,X){return W!==X;},"~=":function(W,Y){var X=" ";return(X+W+X).indexOf((X+Y+X))>-1;},"|=":function(W,X){return G("^"+X+"[-]?").test(W);},"^=":function(W,X){return W.indexOf(X)===0;},"$=":function(W,X){return W.lastIndexOf(X)===W.length-X.length;},"*=":function(W,X){return W.indexOf(X)>-1;},"":function(W,X){return W;}},pseudos:{"root":function(W){return W===W.ownerDocument.documentElement;},"nth-child":function(W,X){return R(W,X);},"nth-last-child":function(W,X){return R(W,X,null,true);},"nth-of-type":function(W,X){return R(W,X,W.tagName);},"nth-last-of-type":function(W,X){return R(W,X,W.tagName,true);},"first-child":function(W){return F(W.parentNode)[0]===W;},"last-child":function(X){var W=F(X.parentNode);return W[W.length-1]===X;},"first-of-type":function(W,X){return F(W.parentNode,W.tagName.toLowerCase())[0];},"last-of-type":function(X,Y){var W=F(X.parentNode,X.tagName.toLowerCase());return W[W.length-1];},"only-child":function(X){var W=F(X.parentNode);return W.length===1&&W[0]===X;},"only-of-type":function(W){return F(W.parentNode,W.tagName.toLowerCase()).length===1;},"empty":function(W){return W.childNodes.length===0;},"not":function(W,X){return !T.test(W,X);},"contains":function(W,Y){var X=W.innerText||W.textContent||"";return X.indexOf(Y)>-1;},"checked":function(W){return W.checked===true;}},test:function(a,Y){a=T.document.getElementById(a)||a;if(!a){return false;}var X=Y?Y.split(","):[];if(X.length){for(var Z=0,W=X.length;Z<W;++Z){if(V(a,X[Z])){return true;}}return false;}return V(a,Y);},filter:function(Z,Y){Z=Z||[];var b,X=[],c=C(Y);if(!Z.item){for(var a=0,W=Z.length;a<W;++a){if(!Z[a].tagName){b=T.document.getElementById(Z[a]);if(b){Z[a]=b;}else{}}}}X=Q(Z,C(Y)[0]);B();return X;},query:function(X,Y,Z){var W=H(X,Y,Z);return W;}};var H=function(c,h,j,a){var l=(j)?null:[];if(!c){return l;}var Y=c.split(",");if(Y.length>1){var k;for(var d=0,e=Y.length;d<e;++d){k=arguments.callee(Y[d],h,j,true);l=j?k:l.concat(k);}I();return l;}if(h&&!h.nodeName){h=T.document.getElementById(h);if(!h){return l;}}h=h||T.document;var g=C(c);var f=g[N(g)],W=[],Z,X,b=g.pop()||{};if(f){X=P(f.attributes);}if(X){if(X===b.id){W=[T.document.getElementById(X)]||h;}else{Z=T.document.getElementById(X);if(h===T.document||L(Z,h)){if(Z&&V(Z,null,f)){h=Z;}}else{return l;}}}if(h&&!W.length){W=h.getElementsByTagName(b.tag);}if(W.length){l=Q(W,b,j,a);}B();return l;};var L=function(){if(document.documentElement.contains&&!YAHOO.env.ua.webkit<422){return function(X,W){return W.contains(X);};}else{if(document.documentElement.compareDocumentPosition){return function(X,W){return !!(W.compareDocumentPosition(X)&16);};}else{return function(Y,X){var W=Y.parentNode;while(W){if(Y===W){return true;}W=W.parentNode;}return false;};}}}();var Q=function(Z,b,c,Y){var X=c?null:[];for(var a=0,W=Z.length;a<W;a++){if(!V(Z[a],"",b,Y)){continue;}if(c){return Z[a];}if(Y){if(Z[a]._found){continue;}Z[a]._found=true;M[M.length]=Z[a];}X[X.length]=Z[a];}return X;};var V=function(c,X,a,Y){a=a||C(X).pop()||{};if(!c.tagName||(a.tag!=="*"&&c.tagName.toUpperCase()!==a.tag)||(Y&&c._found)){return false;}if(a.attributes.length){var b;for(var Z=0,W=a.attributes.length;Z<W;++Z){b=c.getAttribute(a.attributes[Z][0],2);if(b===undefined){return false;}if(T.operators[a.attributes[Z][1]]&&!T.operators[a.attributes[Z][1]](b,a.attributes[Z][2])){return false;}}}if(a.pseudos.length){for(var Z=0,W=a.pseudos.length;Z<W;++Z){if(T.pseudos[a.pseudos[Z][0]]&&!T.pseudos[a.pseudos[Z][0]](c,a.pseudos[Z][1])){return false;}}}return(a.previous&&a.previous.combinator!==",")?O[a.previous.combinator](c,a):true;};var M=[];var K=[];var S={};var I=function(){for(var X=0,W=M.length;X<W;++X){try{delete M[X]._found;}catch(Y){M[X].removeAttribute("_found");}}M=[];};var B=function(){if(!document.documentElement.children){return function(){for(var X=0,W=K.length;X<W;++X){delete K[X]._children;}K=[];};}else{return function(){};}}();var G=function(X,W){W=W||"";if(!S[X+W]){S[X+W]=new RegExp(X,W);}return S[X+W];};var O={" ":function(X,W){while(X=X.parentNode){if(V(X,"",W.previous)){return true;}}return false;},">":function(X,W){return V(X.parentNode,null,W.previous);},"+":function(Y,X){var W=Y.previousSibling;while(W&&W.nodeType!==1){W=W.previousSibling;}if(W&&V(W,null,X.previous)){return true;}return false;},"~":function(Y,X){var W=Y.previousSibling;while(W){if(W.nodeType===1&&V(W,null,X.previous)){return true;}W=W.previousSibling;}return false;}};var F=function(){if(document.documentElement.children){return function(X,W){return(W)?X.children.tags(W):X.children||[];};}else{return function(a,X){if(a._children){return a._children;}var Z=[],b=a.childNodes;for(var Y=0,W=b.length;Y<W;++Y){if(b[Y].tagName){if(!X||b[Y].tagName.toLowerCase()===X){Z[Z.length]=b[Y];}}}a._children=Z;K[K.length]=a;return Z;};}}();var R=function(X,h,k,c){if(k){k=k.toLowerCase();}U.test(h);var g=parseInt(RegExp.$1,10),W=RegExp.$2,d=RegExp.$3,e=parseInt(RegExp.$4,10)||0,j=[];var f=F(X.parentNode,k);if(d){g=2;op="+";W="n";e=(d==="odd")?1:0;}else{if(isNaN(g)){g=(W)?1:0;}}if(g===0){if(c){e=f.length-e+1;}if(f[e-1]===X){return true;}else{return false;}}else{if(g<0){c=!!c;g=Math.abs(g);}}if(!c){for(var Y=e-1,Z=f.length;Y<Z;Y+=g){if(Y>=0&&f[Y]===X){return true;}}}else{for(var Y=f.length-e,Z=f.length;Y>=0;Y-=g){if(Y<Z&&f[Y]===X){return true;}}}return false;};var P=function(X){for(var Y=0,W=X.length;Y<W;++Y){if(X[Y][0]=="id"&&X[Y][1]==="="){return X[Y][2];}}};var N=function(Y){for(var X=0,W=Y.length;X<W;++X){if(P(Y[X].attributes)){return X;}}return -1;};var D={tag:/^((?:-?[_a-z]+[\w-]*)|\*)/i,attributes:/^\[([a-z]+\w*)+([~\|\^\$\*!=]=?)?['"]?([^'"\]]*)['"]?\]*/i,pseudos:/^:([-\w]+)(?:\(['"]?(.+)['"]?\))*/i,combinator:/^\s*([>+~]|\s)\s*/};
var C=function(W){var Y={},b=[],c,a=false,X;W=A(W);do{a=false;for(var Z in D){if(!YAHOO.lang.hasOwnProperty(D,Z)){continue;}if(Z!="tag"&&Z!="combinator"){Y[Z]=Y[Z]||[];}if(X=D[Z].exec(W)){a=true;if(Z!="tag"&&Z!="combinator"){if(Z==="attributes"&&X[1]==="id"){Y.id=X[3];}Y[Z].push(X.slice(1));}else{Y[Z]=X[1];}W=W.replace(X[0],"");if(Z==="combinator"||!W.length){Y.attributes=J(Y.attributes);Y.pseudos=Y.pseudos||[];Y.tag=Y.tag?Y.tag.toUpperCase():"*";b.push(Y);Y={previous:Y};}}}}while(a);return b;};var J=function(X){var Y=T.attrAliases;X=X||[];for(var Z=0,W=X.length;Z<W;++Z){if(Y[X[Z][0]]){X[Z][0]=Y[X[Z][0]];}if(!X[Z][1]){X[Z][1]="";}}return X;};var A=function(X){var Y=T.shorthand;var Z=X.match(D.attributes);if(Z){X=X.replace(D.attributes,"REPLACED_ATTRIBUTE");}for(var b in Y){if(!YAHOO.lang.hasOwnProperty(Y,b)){continue;}X=X.replace(G(b,"gi"),Y[b]);}if(Z){for(var a=0,W=Z.length;a<W;++a){X=X.replace("REPLACED_ATTRIBUTE",Z[a]);}}return X;};if(YAHOO.env.ua.ie){T.prototype.attrAliases["class"]="className";}T=new T();T.patterns=D;E.Selector=T;})();YAHOO.register("selector",YAHOO.util.Selector,{version:"2.5.1",build:"984"});YAHOO.namespace("YAHOO.My.Nux");YAHOO.My.Nux={_atmMode:!!YAHOO.util.Dom.get("atm-box"),_busy:false,_closing:false,_curStep:0,_defaultLocation:"",_defaultShade:false,_lastLocationMatches:[],_initialized:false,_interestList:null,init:function(){var A=YAHOO.util.Event;A.addListener("nux-hd","click",this.handleHeaderClick,this,true);A.addListener("nux-locstep-back","click",this.reset,this,true);A.addListener("nux-intstep-back","click",this.handleInterestsButtonClick,this,true);A.addListener("nux-intstep-next","click",this.handleInterestsButtonClick,this,true);A.addListener("nux-donestep-back","click",this.showInterestsStep,this,true);A.addListener("nux-locstep-next","click",this.verifyLocation,this,true);A.addListener("txtNuxLoc","keypress",this.handleLocationKeyPress,this,true);A.addListener("nux-ulm-list","click",this.handleLocationListClick,this,true);A.addListener("nux-intstep-infolink","mouseover",this.showInterestsNotice,this,true);A.addListener("nux-intstep-infolink","mouseout",this.hideInterestsNotice,this,true);A.addListener("nux-donestep-done","click",this.handleDoneClick,this,true);A.addListener("nux-trythis-close","click",this.hideTryThisDialog,this,true);this._defaultShade=YAHOO.My.UI.isPageShaded()||YAHOO.My.UI.isSpotlightVisible();if(this._defaultShade&&!YAHOO.My.UI.isSpotlightVisible()){YAHOO.My.UI.shadePage();}this.tooltip=YAHOO.My.Application.getTooltip({disableMouseOut:true,classname:"ptrdlg"});},handleHeaderClick:function(A){var C=YAHOO.util.Event;A=C.getEvent(A);var B=C.getTarget(A);if(B.tagName.toLowerCase()=="strong"){B=B.parentNode;}if(B.href&&B.href.indexOf("#")>-1){C.preventDefault(A);}if(B.id==""){B=B.parentNode;}switch(B.id){case"nux-close":case"nux-no":this.close();break;case"nux-get-started":this.start();break;default:}},close:function(){if(!this._closing&&!this._busy){this._closing=true;if(this._atmMode){this.savePageViaATM(false,true);}else{var D=YAHOO.util.Dom;var C=YAHOO.My.Application;this.savePage(false,false);if(this.tooltip.isVisible()){this.tooltip.hide();var B=this.tooltip.getContent();D.setStyle(B,"display","none");document.body.appendChild(B);}if(YAHOO.My.UI.isSpotlightVisible()){YAHOO.My.UI.hideSpotlight();YAHOO.My.UI.shadePage();}var A=(navigator.userAgent.indexOf("WebKit")==-1);if(YAHOO.My.UI.isPageShaded()){YAHOO.My.UI.unshadePage({animate:true,onComplete:function(){if(A){YAHOO.My.UI.slideElementUp("nux-hd",{onComplete:function(){D.setStyle("nux-hd","display","none");this.showTryThisDialog();},scope:this});}else{D.setStyle("nux-hd","display","none");}},scope:this});}else{if(A){YAHOO.My.UI.slideElementUp("nux-hd",{onComplete:function(){D.setStyle("nux-hd","display","none");this.showTryThisDialog();},scope:this});}else{D.setStyle("nux-hd","display","none");}}}}},reset:function(B){var D=YAHOO.util.Event;var C=YAHOO.My.Application;var E=YAHOO.util.Dom;B=D.getEvent(B);if(B){D.preventDefault(B);}E.get("nux-hd").className="intro";if(this.tooltip.isVisible()){this.tooltip.hide();var A=this.tooltip.getContent();E.setStyle(A,"display","none");document.body.appendChild(A);}this._curStep=0;if(!this._defaultShade){YAHOO.My.UI.unshadePage();}},showStep:function(A){var I=YAHOO.util.Dom;var G=YAHOO.My.Application;I.removeClass("nux-hd","step1");I.removeClass("nux-hd","step2");I.removeClass("nux-hd","step3");I.addClass("nux-hd",A.cssClass);var E=I.get(A.dialogElement);var C=I.get(A.target);var H=I.getXY(C);var B=0;var F=0;switch(A.pos){case"bl":B=H[0]+Math.round(C.offsetWidth/2);F=H[1]+C.offsetHeight;break;case"lc":B=H[0];F=H[1]+Math.round(C.offsetHeight/2);break;case"rc":B=H[0]+C.offsetWidth;F=H[1]+Math.round(C.offsetHeight/2);break;default:throw new Error("Invalid NUX dialog alignment.");}if(this.tooltip.isVisible()){this.tooltip.hide();var D=this.tooltip.getContent();I.setStyle(D,"display","none");document.body.appendChild(D);}this.tooltip.show([B,F],{pos:[A.pos],offsetY:A.offsetY,width:A.dialogWidth},E);this._curStep=A.stepNum;},start:function(A){if(!this._busy){this._busy=true;var C=YAHOO.util.Event;var B=YAHOO.My.Application;A=A||window.event;if(A){C.preventDefault(A);}if(YAHOO.My.Components.addedContentInfo){YAHOO.My.Components.addedContentInfo.reset();}this.checkForNewUser({success:function(D,E){if(E.data.isNew){this.newUserStart();}else{this.existingUserStart();}},failure:this.newUserStart,scope:this});}},newUserStart:function(){var A=YAHOO.My.Application;YAHOO.util.Dom.replaceClass("nux-hd","intro","setup");if(!YAHOO.My.UI.isPageShaded()){YAHOO.My.UI.shadePage(true);}this.showLocationStep();this._busy=false;},existingUserStart:function(){var A={html:YAHOO.My.Dict["STR.NUX.OVERWRITE_CONFIRM"],callback:function(C,D,B){if(B){YAHOO.My.Nux.newUserStart();}},buttonText:[YAHOO.My.Dict["STR.NUX.YES_BTN"],YAHOO.My.Dict["STR.NUX.NO_BTN"]],target:null,minWidth:200,maxWidth:280};YAHOO.My.UI.Dialog.confirm(A);this._busy=false;},checkForNewUser:function(C){var B={modid:"myy",_create:1};var A=YAHOO.My.RequestFactory.createRequestObjByType("show","checkNU","pref",B);YAHOO.My.ArcadeRequest.makeRequest(C,A);},handleLocationKeyPress:function(A){var B=YAHOO.util.Event;var C=YAHOO.util.Dom;A=B.getEvent(A);if(B.getCharCode(A)==13){B.preventDefault(A);this.verifyLocation();}},handleLocationListClick:function(A){var C=YAHOO.util.Event;A=C.getEvent(A);var B=C.getTarget(A);if(B.tagName.toLowerCase()=="a"){C.preventDefault(A);YAHOO.util.Dom.get("txtNuxLoc").value=B.innerHTML;this.setULM(B.innerHTML,this._lastLocationMatches[B.locationId]);}},handleSetULMResponse:function(B,A){YAHOO.util.Dom.get("nux-interests").innerHTML=A.data.categoriesHtml;this._defaultLocation="";this._interestList=null;this.showInterestsStep();},handleVerifyLocationResponse:function(G,C){var H=YAHOO.util.Dom;H.get("nux-loc-entry").className="loc-entry";this.hideLocationProgress();if(G.query==""){this.handleSetULMResponse(G,C);}else{var A=C.data.locations;switch(A.length){case 0:H.addClass("nux-loc-entry","notice");H.addClass("nux-loc-entry","ulm-error");break;case 1:this.handleSetULMResponse(G,C);break;default:var D=document.createDocumentFragment();this._lastLocationMatches=A;for(var E=0;E<A.length;E++){var F=document.createElement("li");if(A[E].iso2countrycode!=226){F.innerHTML='<a href="#">'+A[E].town+", "+A[E].country+"</a>";}else{F.innerHTML='<a href="#">'+A[E].town+", "+A[E].stateshortcode+" "+A[E].zip+"</a>";}F.firstChild.locationId=E;D.appendChild(F);}var B=H.get("nux-ulm-list");while(B.hasChildNodes()){B.removeChild(B.firstChild);}B.appendChild(D);H.addClass("nux-loc-entry","notice");H.addClass("nux-loc-entry","ulm");}}},hideLocationProgress:function(){YUD.setStyle("nux-locstep-progress","display","none");YUD.setStyle("nux-locstep-main","display","block");},showLocationProgress:function(){YUD.setStyle("nux-locstep-progress","display","block");YUD.setStyle("nux-locstep-main","display","none");},showLocationStep:function(B){YAHOO.My.Components.Instrumentation.fireUltBeacon({"t":"nlinks","cat":"loc"});var C=YAHOO.My.PortalMgr;var F=YAHOO.My.Application;var K=YAHOO.util.Event;var L=YAHOO.util.Dom;if(window.event||B){B=K.getEvent(B);if(B){K.preventDefault(B);}}L.get("nux-loc-entry").className="loc-entry";var J=L.get("txtNuxLoc");if(!this._initialized){var H=F.getPreference("nux.location.city");var A=F.getPreference("nux.location.state");var D=F.getPreference("nux.location.zip");var G=F.getPreference("nux.location.isdefault");var I=F.getPreference("nux.location.iso2countrycode");var E=F.getPreference("nux.location.country");if(H&&H!=""){if(I!="226"){this._defaultLocation=H+", "+E;}else{this._defaultLocation=H+", "+A+" "+D;}J.value=this._defaultLocation;J.isDefault=G;}L.get("chkNuxLoc").checked=G;this._initialized=true;}if(this._curStep==2){this.saveInterestCheckboxes();}this.showStep({cssClass:"step1",dialogElement:"nux-locstep-dlg",target:"nux-step1",pos:"bl",offsetY:0,dialogWidth:"24em",stepNum:1});J.select();J.focus();},setULM:function(B,A){var E=YAHOO.util.Dom;var D={location:B,locationRecord:A,setdefault:E.get("chkNuxLoc").checked?1:0};var C=YAHOO.My.RequestFactory.createRequestObjByType("show","setlocation","nux",D);var F={success:this.handleSetULMResponse,failure:this.handleSetULMResponse,scope:this};YAHOO.My.ArcadeRequest.makeRequest(F,C);},setUserLocation:function(A){var B=YAHOO.My.Application;B.setPreference("location.city",A.town);B.setPreference("location.state",A.state);B.setPreference("location.country",A.country);B.setPreference("location.zip",A.zip);B.setPreference("location.woeid",A.woeid);},verifyLocation:function(C){var E=YAHOO.util.Event;var F=YAHOO.util.Dom;C=E.getEvent(C);if(window.event||C){C=E.getEvent(C);if(C){E.preventDefault(C);}}var A=F.get("txtNuxLoc");if(A.value==this._defaultLocation){this.showInterestsStep();}else{var D={query:A.value,setdefault:F.get("chkNuxLoc").checked?1:0};var B=YAHOO.My.RequestFactory.createRequestObjByType("show","location","nux",D);var G={success:this.handleVerifyLocationResponse,failure:this.handleVerifyLocationResponse,scope:this,argument:{query:D.query}};YAHOO.My.ArcadeRequest.makeRequest(G,B);this.showLocationProgress();}},handleInterestsButtonClick:function(A){var C=YAHOO.util.Event;A=C.getEvent(A);C.preventDefault(A);var B=C.getTarget(A);while(B.tagName.toLowerCase()!="a"){B=B.parentNode;}switch(B.id){case"nux-intstep-back":this.showLocationStep();break;case"nux-intstep-next":this.saveInterestCheckboxes();this.showLastStep();break;}},hideInterestsNotice:function(A){var B=YAHOO.util.Event;A=B.getEvent(A);B.preventDefault(A);YAHOO.util.Dom.setStyle("nux-interests-notice","visibility","hidden");},initInterestCheckboxes:function(){if(this._interestList){for(var A=0,C=YUD.get("chkInt0");C!=null;A++,C=YUD.get("chkInt"+A)){if(C.value.indexOf("|")>-1){var B=C.value.split("|");if(this._interestList[B[0]]){C.checked=true;}}else{if(this._interestList[C.value]){C.checked=true;}}}}else{for(var A=0,C=YUD.get("chkInt0");C!=null;A++,C=YUD.get("chkInt"+A)){C.checked=true;}}},saveInterestCheckboxes:function(){var C=YAHOO.util.Dom;this._interestList={};var E={};for(var A=0,D=C.get("chkInt0");D!=null;A++,D=C.get("chkInt"+A)){if(D.checked){if(D.value.indexOf("|")>-1){var B=D.value.split("|");this._interestList[B[0]]=B[1];}else{this._interestList[D.value]=D.title;E[A]=D.value;}}}YAHOO.My.Components.Instrumentation.fireUltBeacon({"t":"nlinks","int":E});},showInterestsNotice:function(A){var B=YAHOO.util.Event;A=B.getEvent(A);B.preventDefault(A);YAHOO.util.Dom.setStyle("nux-interests-notice","visibility","visible");},showInterestsStep:function(A){YAHOO.My.Components.Instrumentation.fireUltBeacon({"t":"nlinks","cat":"int"});var C=YAHOO.util.Event;var B=YAHOO.My.Application;if(window.event||A){A=C.getEvent(A);if(A){C.preventDefault(A);}}if(YAHOO.My.UI.isSpotlightVisible()){YAHOO.My.UI.hideSpotlight();YAHOO.My.UI.shadePage();}this.showStep({cssClass:"step2",dialogElement:"nux-intstep-dlg",target:"nux-step2",offsetY:0,pos:"bl",dialogWidth:"24em",stepNum:2});this.initInterestCheckboxes();},handleDoneClick:function(A){YAHOO.My.Components.Instrumentation.fireUltBeacon({"t":"nlinks","cat":"done"});var B=YAHOO.util.Event;if(window.event||A){A=B.getEvent(A);if(A){B.preventDefault(A);}}this.showLastStepProgress();if(this._atmMode){this.savePageViaATM(true,true);}else{this.savePage(true,true);}},handleSavePageFailure:function(B,A){location.href=A.data.errorurl;},handleSavePageSuccess:function(C,A){if(C.pageRefresh){if(this._atmMode&&location.host=="add.my.yahoo.com"){var B=YUD.get("atm-intl").value;var D="cm.my.yahoo.com";switch(B){case"us":D="cm.my.yahoo.com";break;case"tr":D="tr.my.yahoo.com";break;case"e1":D="espanol.my.yahoo.com";break;default:if(B){D="cm."+B+".my.yahoo.com";}else{D="cm.my.yahoo.com";}break;}YAHOO.My.PortalMgr.reloadPage(YAHOO.My.Application.getProperty("currentPage"),true,D);}else{YAHOO.My.PortalMgr.reloadPage(YAHOO.My.Application.getProperty("currentPage"),true);}}},hideLastStepProgress:function(){YUD.setStyle("nux-donestep-progress","display","none");YUD.setStyle("nux-donestep-main","display","block");},savePage:function(A,B){var D={optype:"init"};if(A){D["interestList"]=this._interestList;}var C=YAHOO.My.RequestFactory.createRequestObjById("save","inituser","myy",D);var E={success:this.handleSavePageSuccess,failure:this.handleSavePageFailure,scope:this,argument:{pageRefresh:B}};YAHOO.My.ArcadeRequest.makeRequest(E,C);},savePageViaATM:function(A,B){var C=YAHOO.My.RequestFactory.createRequestObjFromForm("atm-form");if(A){C["interestList"]=this._interestList;}var D={success:this.handleSavePageSuccess,failure:this.handleSavePageFailure,scope:this,argument:{pageRefresh:B}};YAHOO.My.ArcadeRequest.makeRequest(D,C);},showLastStepProgress:function(){YUD.setStyle("nux-donestep-progress","display","block");YUD.setStyle("nux-donestep-main","display","none");},showLastStep:function(A){var C=YAHOO.util.Event;var B=YAHOO.My.Application;if(window.event||A){A=C.getEvent(A);if(A){C.preventDefault(A);}}this.saveInterestCheckboxes();YAHOO.My.UI.showSpotlight("p-content");this.showStep({cssClass:"step3",dialogElement:"nux-donestep-dlg",target:"p-content",pos:"rc",dialogWidth:"24em",stepNum:3});},hideTryThisDialog:function(){this.tooltip.hide();},showTryThisDialog:function(){var G=YAHOO.util.Dom;var C=YAHOO.My.Application;var A=G.get("nux-trythis-dlg");var F=G.get("p-content");var B=G.getXY(F);var E=0;var D=0;E=B[0]+F.offsetWidth;D=B[1]+Math.round(F.offsetHeight/2);this.tooltip.show([E,D],{pos:["rc"],width:"23em"},A);}};YAHOO.util.Event.addListener(window,"load",YAHOO.My.Nux.init,YAHOO.My.Nux,true);/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.namespace("My.Controls");YAHOO.My.Controls.Tabset=function(A,B){YAHOO.My.Controls.Tabset.superclass.constructor.apply(this,arguments);this.beforeSelectItemEvent=new YAHOO.util.CustomEvent("beforeselectitem",this);};YAHOO.My.Controls.Tabset.DEFAULT_CONFIG={firstItemClassName:"first",lastItemClassName:"last",selectedItemClassName:"selected",listClassName:"ymytabs",itemClassName:"tab",itemTextClassName:"text",itemTextContainerClassName:"text-ctr",stretchTabs:true};YAHOO.extend(YAHOO.My.Controls.Tabset,YAHOO.My.Controls.ListBase,{_setTabWidths:function(){var C=this.element.firstChild;var A=this.getItemCount();var B=Math.floor(100/A);while(C){if(C===this.element.lastChild&&YAHOO.env.ua.ie){C.style.width=(B-0.5)+"%";}else{C.style.width=B+"%";}C=C.nextSibling;}},handleClick:function(B){var C=YAHOO.util.Event;B=C.getEvent(B);YAHOO.My.Controls.Tabset.superclass.handleClick.call(this,B);var A=this.getItemElement(C.getTarget(B));if(A){this.select(A.id);}},getItemHtml:function(A){return'<span class="text-ctr"><a href="'+(A.data.contentId||"#")+'" class="'+this.config.itemTextClassName+'">'+A.data.text+"</a></span>";},processExistingItem:function(B){var E=YAHOO.util.Dom;var D=YAHOO.My.Controls.Tabset.superclass.processExistingItem.call(this,B);var C=B.getElementsByTagName("a")[0];if(C){C.className=this.config.itemTextClassName;D.data.text=C.firstChild.nodeValue;D.data.contentId=C.href.substring(C.href.indexOf("#")+1);C.href="javascript:void(0)";}var A=B.getElementsByTagName("span")[0];if(!A){A=document.createElement("span");B.appendChild(A);A.appendChild(C);}if(A.className!=this.config.itemTextContainerClassName){A.className=this.config.itemTextContainerClassName;}return D;},add:function(A){YAHOO.My.Controls.Tabset.superclass.add.call(this,A);if(this.config.stretchTabs){this._setTabWidths();}},select:function(G){var F=YAHOO.util.Dom;var C=this.getItem(G);var D=this.selectedItem;this.beforeSelectItemEvent.fire(C);if(D&&D.data.contentId.length>0){F.setStyle(D.data.contentId,"display","none");}if(C&&C.data.contentId.length>0){F.setStyle(C.data.contentId,"display","block");}YAHOO.My.Controls.Tabset.superclass.select.call(this,C);if(YAHOO.env.ua.ie){var E=this.getItemCount();var B=this.getItem(E-1);var A=this.getItem(E-2);if(C===B){F.removeClass(A.element,"iefix");F.removeClass(B.element,"iefixlast");}else{if(C===A){F.addClass(A.element,"iefix");F.addClass(B.element,"iefixlast");}}}},render:function(A){if(!this.isRendered()){YAHOO.My.Controls.Tabset.superclass.render.call(this,A);if(this.config.stretchTabs){this._setTabWidths();}else{YAHOO.util.Dom.addClass(this.element,"ymytabsns");}if(!this.selectedItem){this.select(0);}}}});/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.Modules.suid_5683054={_tabs:null,__init:function(B,A){this.id=B;this.tabs=new YAHOO.My.Controls.Tabset(B+"-tabs",{stretchTabs:false});this.tabs.render();this.tabs.selectItemEvent.subscribe(this._handleTabSelect,this,true);},__destroy:function(B,A){delete this.tabs;},_handleTabSelect:function(B,A){var C=YAHOO.util.Dom.get(A[0].data.contentId);C.focus();}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.My.Controls.MediaPlayer={_InlinePlayer:null,showMediaPlayer:function(F,H,A,I){H=H.substr(1,H.length);var C=screen.availWidth;var K=screen.availHeight;var M=400;var E=300;if(self.innerHeight!=null){M+10;}else{if(self.screenTop!=null){E+10;}}var L=(C-M)/2;var J=(K-E)/2;var B="/?_action=show&_container=0&_id="+F+"&_subAction=mediaplayer&_url="+encodeURIComponent(encodeURIComponent(A||""))+"&_itemId="+encodeURIComponent(H)+"&_title="+encodeURIComponent(I);try{var G=window.open(B,"","modal=1,toolbar=0,location=0,status=0,menubar=0,scrollbars=1,resizable=1,width="+M+",height="+E+",top="+J+",left="+L);G.focus();}catch(D){}return false;},showInlinePlayer:function(C){if(C===this._InlinePlayer){return true;}var B=C.getElementsByTagName("embed")[0];if(B){if(!C._defaultHTML){C._defaultHTML=C.innerHTML;}var A;if(A=this._InlinePlayer){A.innerHTML=A._defaultHTML;}B.setAttribute("src",B.getAttribute("defer"));B.style.display="block";if(B.outerHTML){C.innerHTML=B.outerHTML;}else{C.innerHTML="";C.appendChild(B);}this._InlinePlayer=C;if(C.lastChild.tagName!="EMBED"){C.removeChild(C.lastChild);}YAHOO.ModuleAPI.getTooltip().hide();return false;}return true;},_handleInlinePlayerClick:function(B){var C=YAHOO.util.Event.getTarget(B);if(C.tagName=="IMG"){C=C.parentNode;}var A=YAHOO.My.Controls.MediaPlayer.showInlinePlayer(C.parentNode);if(A==false){if(YAHOO.My.AdMgr){YAHOO.My.AdMgr.rotateAd("mediaClick");}YAHOO.util.Event.stopEvent(B);}return A;},_handleMediaPlayerClick:function(B){var C=YAHOO.util.Event.getTarget(B);var A=YAHOO.My.Controls.MediaPlayer.showMediaPlayer(this.id,C.getAttribute("name"),C.href,C.innerHTML);if(A==false){YAHOO.util.Event.stopEvent(B);}return A;}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.Modules.type_simple={__init:function(B,A){this.id=B;this.dBd=A;YAHOO.ModuleAPI.getTooltip().addTarget(A,{modScope:this,onBeforeShow:this._onBeforeToolTipDisplay,pos:["l","r","t","b"],width:"350px",offsetX:10,id:this.id});YAHOO.util.Event.on(A,"click",this._handleClick,this,true);},__beforeRefresh:function(A){YAHOO.util.Event.removeListener(this.dBd,"click",this._handleClick,this,true);YAHOO.ModuleAPI.getTooltip().removeTarget(this.dBd);},_handleClick:function(C){if(C&&(C.ctrlKey||C.shiftKey||C.metaKey)){return true;}var D=YAHOO.util.Event.getTarget(C);if(D.tagName==="IMG"){D=D.parentNode;}if(!(D.tagName=="A")){return ;}var A=D.getAttribute("target");var B=D.href;if(B.indexOf("javascript:void(")==0){return true;}switch(A){case"_r":this.displayRSS.apply(this,arguments);break;case"_i":YAHOO.My.Controls.MediaPlayer._handleInlinePlayerClick.apply(this,arguments);break;case"_v":YAHOO.My.Controls.MediaPlayer._handleMediaPlayerClick.apply(this,arguments);break;case"_vo":this.refreshWithOldContent.apply(this,arguments);break;default:return true;}YAHOO.util.Event.stopEvent(C);return false;},displayRSS:function(A){var B=YAHOO.util.Event.getTarget(A);if(B&&B.href){YAHOO.My.Controls.Reader.show(this.id,B);return false;}},displayPhoto:function(E,D,C){var A=YAHOO.util.Dom.getStyle(D.parentNode,"backgroundImage")+"";A=A.split("(")[1]+"";A=A.split(")")[0]+"";var B=YAHOO.util.Dom.generateId();var O=D.parentNode.getAttribute("w");var G=D.parentNode.getAttribute("h");var M=(C&&C.innerHTML)?C.innerHTML:"";var J=D.innerHTML;var L=YAHOO.ModuleAPI.getTooltip();L.hide();L.setContent('<div><div class="mri-title">'+J+'</div><div id="'+B+'" class="mri"><a target="_blank" id="'+B+'a" href="'+D.href+'"></a></div><div class="mri-caption">'+M+"</div></div>");var F=this.id;var I=YAHOO.util.Dom.get(B);var H=this;var P=function(W){W=W||window.event;YAHOO.util.Event.removeListener(K,"load",P);YAHOO.util.Event.removeListener(K,"error",P);if(N){clearInterval(N);}if(W&&W.type=="error"){try{L.hide();}catch(V){}var U=false;var T=YAHOO.util.Dom.get(F+"_htmlstate").value;var S=YAHOO.lang.JSON.parse(decodeURIComponent(T));if(!S["wm"]){if(S["fp"]&&S["ar"]){U=1;}}else{if((S["ar"]==1)&&S["ar"]){U=1;}}if(!YAHOO.util.Dom.hasClass(D.parentNode,"text")){D.parentNode.style.backgroundImage="";YAHOO.util.Dom.addClass(D.parentNode,"text");}if(U){var R={};for(i in W){if(i=="target"||i=="srcElement"){R[i]=D;}else{R[i]=W[i];}}H.displayRSS.call(H,R);D.setAttribute("target","_r");}else{var Q=window.open(D.href);D.setAttribute("target","_blank");try{Q.focus();}catch(V){}}return false;}K.width=Math.min(750,K.width);K.parentNode.style.background="transparent";K.style.display="block";L.resizeTo(Math.max(220,(K.width+50)),"");L.show(D,{pos:["t","b","l","r"]});YAHOO.util.Event.removeListener(K,"load",P);};var K=new Image();YAHOO.util.Dom.get(B+"a").appendChild(K);K.style.display="none";YAHOO.util.Event.on(K,"load",P);var N=setInterval(function(){if(K.complete){clearInterval(N);if(!K.width){P({"type":"error","target":D});}}},300);YAHOO.util.Event.on(K,"error",P);K.onerror=P;K.src=A;if(YAHOO.My.AdMgr){YAHOO.My.AdMgr.rotateAd("mediaClick");}return false;},refreshWithOldContent:function(B){var C=YAHOO.My.RequestFactory.createRequestObjById("show","viewolditems",this.id,{_container:0});var A={success:YAHOO.ModulePlatform._displayRefresh,failure:YAHOO.ModulePlatform._displayRefresh,scope:YAHOO.ModulePlatform};YAHOO.My.ArcadeRequest.makeRequest(A,C);return false;},_onBeforeToolTipDisplay:function(A,E){if(!E||!E.href){return false;}var C=E.name;if(!C||C.indexOf("_")!=0){return false;}var B;if(!E._summaryId){var D=E.parentNode;while(D&&D.tagName!="LI"){D=D.parentNode;}if(D){B=D.getElementsByTagName("cite")[0];E._summaryId=YAHOO.util.Dom.generateId(B);}}else{B=YAHOO.util.Dom.get(E._summaryId);}switch(E.target){case"_m":A.modScope.displayPhoto(A,E,B);return false;break;case"_r":default:if(!B||!B.innerHTML||B.offsetHeight){return false;}this.setContent(B.innerHTML);break;}return true;}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.My.Controls.Reader={id:null,_MediaRSSReader:null,show:function(C,B){this.id=C;if(!this._MediaRSSReader){this.createReaderDialog();}var A=this._MediaRSSReader;this.showMask();A.show();this.getRSSFullpost(B);this.adjustDialogSize();},createMask:function(){var D=this._MediaRSSReader;if(D.__mask){return D.__mask;}var E=YAHOO.util.Dom.get("layout-cloud");var B=document.createElement("div");var A=document.documentElement;var C=B.style;E.parentNode.insertBefore(B,E);C.zIndex=YAHOO.util.Dom.getStyle(E,"zIndex")-10;C.height=document.body.clientHeight+"px";C.width="100%";C.position="absolute";C.top=0;C.left=0;C.right=0;C.bottom=0;C.background="#000";YAHOO.util.Dom.setStyle(B,"opacity",0.3);D.__mask=B;this.showMask();return B;},showMask:function(){var C=this._MediaRSSReader;if(!C.__mask){return false;}var A=C.__mask;var B=A.style;B.height=Math.max(document.body.clientHeight,YAHOO.util.Dom.getViewportHeight())+"px";B.width=Math.max(document.documentElement.scrollWidth,Math.max(document.body.clientWidth,YAHOO.util.Dom.getViewportWidth()))+"px";B.display="block";YAHOO.My.UI.setViewportScroll(false);},hideMask:function(){var C=this._MediaRSSReader;if(!C.__mask){return false;}var A=C.__mask;var B=A.style;B.display="none";YAHOO.My.UI.setViewportScroll(true);},_resizeColumnSizeStart:function(E){var D=this._MediaRSSReader;if(!D&&D.hidden){return ;}var A=YAHOO.util.Dom.getX(D.r__col0);var B=E.srcElement||E.target;var C={scope:this,minX:A+50,maxX:A+350,target:E.srcElement||E.target,left:A};YAHOO.util.Event.on(document,"mousemove",this._resizeColumnSize,C,true);YAHOO.util.Event.on(document,"mouseup",this._resizeColumnSizeEnd,C,true);if(B.setCapture){B.setCapture();}if(document.addEventListener){document.addEventListener("mousemover",this._noEvent,true);document.addEventListener("mouseout",this._noEvent,true);}YAHOO.util.Dom.addClass(D.r__rz0,"on-resize");YAHOO.util.Event.stopEvent(E);return false;},_noEvent:function(A){YAHOO.util.Event.stopEvent(A);return false;},_resizeColumnSize:function(C){var B=C.clientX;if(B>this.minX&&B<this.maxX){var A=this.target;A.style.left=B-this.left+"px";}YAHOO.util.Event.stopEvent(C);return false;},_resizeColumnSizeEnd:function(E){var B=this.target;var A=this.scope;var D=YAHOO.util.Event;D.removeListener(document,"mousemove",A._resizeColumnSize);D.removeListener(document,"mouseup",A._resizeColumnSizeEnd);if(B.releaseCapture){B.releaseCapture();}if(document.addEventListener){document.removeEventListener("mousemover",A._noEvent,true);document.removeEventListener("mouseout",A._noEvent,true);}var C=this._MediaRSSReader;if(C&&!C.hidden){YAHOO.util.Dom.removeClass(C.r__rz0,"on-resize");C._adjustColWidth=1;A.adjustDialogSize();}YAHOO.util.Event.stopEvent(E);return false;},_collapseColumn:function(B){var A=this._MediaRSSReader;if(A&&!A.hidden){A._adjustColWidth=1;A.r__col0.style.display="none";A.r__col0.style.width=0;A.r__rz0.style.display="none";A.r__collapse.style.display="none";A.r__expand.style.display="block";this.adjustDialogSize();}YAHOO.util.Event.stopEvent(B);return false;},_expandColumn:function(B){var A=this._MediaRSSReader;if(A&&!A.hidden){A._adjustColWidth=1;A.r__col0.style.display="block";A.r__rz0.style.display="block";A.r__collapse.style.display="block";A.r__expand.style.display="none";this.adjustDialogSize();}YAHOO.util.Event.stopEvent(B);return false;},adjustDialogSize:function(){var G=this._MediaRSSReader;if(G&&!G.hidden){var E=YAHOO.util.Dom.getViewportHeight();var I=YAHOO.util.Dom.getViewportWidth();E=Math.max(450,(E-170));I=Math.max(710,(I-80));I=Math.min(1100,I);E=Math.min(800,E);G.resizeTo(I,E);var C=G.r__col0;var A=G.r__rz0;var D=G.r__bd;C.style.width=parseInt(YAHOO.util.Dom.getStyle(A,"left"))-6+"px";C.style.visibility="hidden";D.style.visibility="hidden";if(G._adjustColWidth){G._adjustColWidth=false;}else{var B=G.__opacBg;B.style.width=I+"px";B.style.height=E+"px";G.moveToCenter();var E=G.__box.offsetHeight-D.offsetTop-G.r__ft.offsetHeight-4;D.style.height=E-6+"px";C.style.height=(E-6)+"px";G.r__rz0.style.height=(E-4)+"px";this.showMask();}var H=C.offsetWidth||0;if(H){D.style.left=H+8+"px";D.style.width=(I-H-15)+"px";G.r__collapse.style.left=H+10+"px";G.r__expand.style.left=H+10+"px";}else{D.style.left=H+6+"px";D.style.width=(I-13)+"px";G.r__collapse.style.left=7+"px";G.r__expand.style.left=7+"px";}C.style.visibility="visible";D.style.visibility="visible";G.__box.style.zoom=1.1;G.__box.style.zoom=1;var F=G.r__helpPannel;if(F&&parseInt(F.style.left)>0){this.displayHelpPannel();}}},hideDialog:function(C){var B=this._MediaRSSReader;if(B&&!B.hidden){try{B.r__content.innerHTML="";B.r__ads.innerHTML="";B.r__rels.innerHTML="";B.r__nav.innerHTML="";}catch(A){}B.hide(C);YAHOO.util.Event.stopEvent(C);this.hideMask();this.clearCache();if(YAHOO.My.AdMgr){YAHOO.My.AdMgr.rotateAd("readerClose");}return false;}},displayHelpPannel:function(F){var E=this._MediaRSSReader;var G=E.r__help;var D=E.r__helpPannel;var C=YAHOO.util.Dom.getRegion(E.__box);var A=C.right-C.left;var B=YAHOO.util.Dom.getX(G)-YAHOO.util.Dom.getX(E.__box)-4;if((B+260)>=A){B=A-282;}D.style.left=B+"px";if(F){YAHOO.util.Event.stopEvent(F);}return false;},disableReaderForAllModule:function(B){var A=YAHOO.My.UI.Dialog.confirm({html:YAHOO.My.Dict["str.rss.reader.disableForAllModuleConfirm"],buttonText:[YAHOO.My.Dict["str.rss.reader.confirm.yes"],YAHOO.My.Dict["str.rss.reader.confirm.no"]],width:300,callback:function(D,F,E){if(E){YAHOO.My.Application.setArticleReader(false);}}});var C=document.createElement("blockquote");C.className="mrar-help-ps";C.innerHTML=YAHOO.My.Dict["str.rss.reader.disableForAllModuleConfirmPS"],A.__toolBottom.appendChild(C);this.hideHelpPannel(B);YAHOO.util.Event.stopEvent(B);return false;},disableReaderForThisModule:function(D){var A=this.id;var B=this;var C=function(E,G,F){if(F){B.hideDialog(G);B.switchReaderForThisModule(G,false);}};YAHOO.My.UI.Dialog.confirm({html:YAHOO.My.Dict["str.rss.reader.disableForThisModule"],buttonText:[YAHOO.My.Dict["str.rss.reader.confirm.yes"],YAHOO.My.Dict["str.rss.reader.confirm.no"]],width:300,callback:C});this.hideHelpPannel(D);YAHOO.util.Event.stopEvent(D);return false;},switchReaderForThisModule:function(C,G){var D=this.id;var F=this;var I=!!(+YAHOO.ModuleAPI.getPref(D,"mar"));if(typeof (G)=="boolean"){I=!!!G;}I=(+(!I));YAHOO.ModuleAPI.setPref(D,"mar",I);this.displayReaderStatusInNogie();var B=["/?_action=save&_container=0&_id=",D,"&mar=",(+(I))].join("");var E=function(M){var K=arguments[1].html;var L=arguments[0];YAHOO.util.Dom.get("bd_"+D).innerHTML=K;};var A=function(){};var H={success:E,failure:A,scope:F};var J=YAHOO.My.RequestFactory.createRequestObjFromUrl(B);YAHOO.My.ArcadeRequest.makeRequest(H,J);YAHOO.util.Dom.get("bd_"+D).innerHTML='<ul><div class="ymy-icon-loading"></div></ul>';YAHOO.util.Event.stopEvent(C);return false;},hideHelpPannel:function(C){var D=C.target||C.srcElement;var B=this._MediaRSSReader;if(!B){return ;}var A=B.r__helpPannel;A.style.left=-5000+"px";YAHOO.util.Event.stopEvent(C);return false;},createReaderDialog:function(){this._MediaRSSReaderCache={};var C=this._MediaRSSReader=YAHOO.My.UI.Dialog.popup({onBeforeClose:function(){return false;},hide:1,html:"&nbsp;",minWidth:450,minHeight:60,dragDrop:1,resize:0});var B=this.createMask();YAHOO.util.Dom.addClass(C.__box,"yui-simple-dialog-mrar");var A=YAHOO.util.Dom.generateId();var E=['<div id="',A,'mrar-hd" class="mrar-hd" ><nobr>','<span id="',A,'mrar-logo" class="mrar-logo"></span>','<span class="mrar-title" id="',A,'mrar-title"></span>','<a href="#" class="mrar-help" id="',A,'mrar-help" onclick="return false"></a>',"</nobr></div>",'<div class="mrar-help-pannel" id="',A,'mrar-help-pannel"><div class="container">','<div class="chrome"><div class="content">','<a href="#" class="x" id="',A,'mrar-help-pannel-x" onclick="return false" title="',YAHOO.My.Dict["str.rss.reader.labelClose"],'"></a>',"<p></p>",'<a id="',A,'drftm" class="mrar-button disable-this" href="#" onclick="return false" ><span><b>',YAHOO.My.Dict["str.rss.reader.disableForThisModule"],"</b></span></a>",'<a id="',A,'drfam" class="disable-all" href="#" onclick="return false">',YAHOO.My.Dict["str.rss.reader.disableForAllModule"],"</a>","</div></div>",'<div class="foot">',"<s><s><s><s><s>","</s></s></s></s></s>","</div>","</div></div>",'<a id="',A,'close1" class="mrar-close1" href="javascript:void(0)" title="',YAHOO.My.Dict["str.rss.reader.labelClose"],'">&nbsp;&nbsp;&nbsp;</a>','<div id="',A,'mrar-col0" class="mrar-col0">','<div id="',A,'mrar-nav" class="mrar-nav"></div>',"</div>",'<a id="',A,'mrar-col-collapse" class="mrar-button mrar-col-collapse" ><span><b>-</b></span></a>','<a id="',A,'mrar-col-expand" class="mrar-button mrar-col-expand" ><span><b>+</b></span></a>','<div id="',A,'mrar-rz0" class="mrar-rz0"></div>','<div id="',A,'mrar-bd" class="mrar-bd" >','<div id="',A,'mrar-col1" class="mrar-col1"><div id="',A,'mrar-content" class="mrar-content"></div></div>','<div id="',A,'mrar-col2" class="mrar-col2">','<div id="',A,'mrar-ads" class="ads"></div>','<div id="',A,'mrar-rels" class="rels"></div>',"</div>","</div>",'<div id="',A,'mrar-ft" class="mrar-ft" >','<div id="',A,'mrar-ft-nav-btns"></div>',"</div>",].join("");C.moveToCenter();C.setContext(E);if(document.uniqueID){C.__box.appendChild(C.__opacBg);}var D=YAHOO.util.Event;D.on(B,"mousedown",this.hideDialog,this,true);D.on(A+"close1","mouseup",this.hideDialog,this,true);C.r__logo=YAHOO.util.Dom.get(A+"mrar-logo");C.r__hd=YAHOO.util.Dom.get(A+"mrar-hd");C.r__nav=YAHOO.util.Dom.get(A+"mrar-nav");C.r__bd=YAHOO.util.Dom.get(A+"mrar-bd");C.r__ft=YAHOO.util.Dom.get(A+"mrar-ft");C.r__ads=YAHOO.util.Dom.get(A+"mrar-ads");C.r__rels=YAHOO.util.Dom.get(A+"mrar-rels");C.r__content=YAHOO.util.Dom.get(A+"mrar-content");C.r__title=YAHOO.util.Dom.get(A+"mrar-title");C.r__help=YAHOO.util.Dom.get(A+"mrar-help");C.r__helpPannel=YAHOO.util.Dom.get(A+"mrar-help-pannel");C.r__close1=YAHOO.util.Dom.get(A+"close1");C.r__rz0=YAHOO.util.Dom.get(A+"mrar-rz0");C.r__col0=YAHOO.util.Dom.get(A+"mrar-col0");C.r__col1=YAHOO.util.Dom.get(A+"mrar-col1");C.r__col2=YAHOO.util.Dom.get(A+"mrar-col2");C.r__col0_close=YAHOO.util.Dom.get(A+"mrar-col0-close");C.r__collapse=YAHOO.util.Dom.get(A+"mrar-col-collapse");C.r__expand=YAHOO.util.Dom.get(A+"mrar-col-expand");C.r__ft_nav_btn=YAHOO.util.Dom.get(A+"mrar-ft-nav-btns");D.on(window,"resize",this.adjustDialogSize,this,true);D.on(A+"mrar-rz0","mousedown",this._resizeColumnSizeStart,this,true);D.on(A+"mrar-help","mousedown",this.displayHelpPannel,this,true);D.on(A+"mrar-help-pannel-x","mousedown",this.hideHelpPannel,this,true);D.on(A+"drftm","mousedown",this.disableReaderForThisModule,this,true);D.on(A+"drfam","mousedown",this.disableReaderForAllModule,this,true);D.on(A+"mrar-col-collapse","mousedown",this._collapseColumn,this,true);D.on(A+"mrar-col-expand","mousedown",this._expandColumn,this,true);D.on(A+"mrar-col-collapse","mousedown",this._noEvent);D.on(A+"mrar-col-expand","mousedown",this._noEvent);},displayUIString:function(C){var A=YAHOO.My.Dict;var B="str.rss.reader.";C.r__title.innerHTML="&nbsp;-&nbsp;"+A[B+"readerName"]||"&nbsp;";C.r__close1.innerHTML=A[B+"labelClose"]||"&nbsp;&nbsp;&nbsp;&nbsp;";C.r__collapse.innerHTML="<span><b>&laquo; "+A[B+"colapseName"]||"&nbsp;&nbsp;-&nbsp;&nbsp;</b></span>";C.r__expand.innerHTML="<span><b>&raquo; "+A[B+"expandName"]||"&nbsp;&nbsp;+&nbsp;&nbsp;</b></span>";C.r__help.innerHTML="["+(A[B+"helpName"]||"&nbsp;")+"]";C.r__helpPannel.getElementsByTagName("p")[0].innerHTML=A[B+"helpContent"];this.displayUIString=function(){};},displayFullpostNavigationControl:function(E){E.r__nav.innerHTML="";var C=this.id;var A=YAHOO.util.Dom.get(C+"rss-navigator-links");if(A){E.r__ft_nav_btn.innerHTML="";E.r__nav.appendChild(A);YAHOO.util.Event.on(A,"click",this._onFullpostNavigationClick,this,true);var B=A.getElementsByTagName("em")[0];if(B){if((B.parentNode.offsetTop<A.parentNode.scrollTop)||(B.parentNode.offsetTop>(A.parentNode.scrollTop+A.parentNode.offsetHeight))){A.parentNode.scrollTop=Math.max(B.parentNode.offsetTop-B.offsetHeight,0);}}}var D=YAHOO.util.Dom.get(C+"rss-navigator-btns");if(D){E.r__ft_nav_btn.appendChild(D);E.r__ft_nav_btn.zoom=1.1;E.r__ft_nav_btn.zoom=1;YAHOO.util.Event.on(D,"click",this._onFullpostNavigationClick,this,true);}},_displayNavigationLinks:function(A){var B=YAHOO.util.Dom.get(this.id+"rss-navigator-links");if(!B){return ;}B.style.display="block";B.__show=true;},_hideNavigationLinks:function(A){var B=document.getElementById(this.id+"rss-navigator-links");if(!B){return ;}if(B.__show){B.style.display="none";}B.__show=false;},_onFullpostNavigationClick:function(D){var E=D.srcElement||D.target;var F=0;while(F<5&&E&&!E.href){E=E.parentNode;F++;}if(!E.href){return ;}var B=this.id;var A=YAHOO.util.Dom.get(B+"rss-navigator-links");var C=YAHOO.util.Dom.get(B+"rss-navigator-btns");if(A&&!C.disabled&&!E.getAttribute("disabled")&&!YAHOO.util.Dom.hasClass(E,"not-allowed")){YAHOO.util.Dom.addClass(C,"not-allowed");A.style.opacity=C.style.opacity=0.5;A.id="";this.getRSSFullpost.call(this,E);this._hideNavigationLinks(D);}YAHOO.util.Event.stopEvent(D);return false;},setCacheById:function(B,A){if(B){B="_"+B+"_";}this._MediaRSSReaderCache[B]=A;},clearCache:function(){this._MediaRSSReaderCache={};},getCacheIds:function(){var B=this._MediaRSSReaderCache;var A=[];for(i in B){if(typeof (B[i])=="string"){i=i.split("_")[1];if(i){A.push(i);}}}return A.join(",");},getCacheById:function(B){if(B){B="_"+B+"_";}var A;if(B){A=this._MediaRSSReaderCache[B];}if(A){return A;}else{return null;}},setCacheFromRawData:function(B){if(!B){return ;}var A=B.split("_YMY_CACHE_DATA_SPLIT_");var C;while(sData=A.shift()){sData=sData.split("_YMY_RSS_CACHE_ID_END_");if(sData.length==2){var E=sData[0];var D=sData[1];if(D.indexOf("rss-header")>=0){this.setCacheById(E,D);}}}},getRSSFullpost:function(H){if(!this._MediaRSSReader){return ;}var K=0;while(H&&!H.href&&K<5){H=H.parentNode;K+=1;}if(!H.href){return false;}if(H.getAttribute("disabled")){return false;}var P=this._MediaRSSReader;var D=this;var F=H.getAttribute("name");F=F.substr(1,F.length);var C=["/?_action=show&_container=0&_id=",this.id,"&_subAction=fullpost&_url=",encodeURIComponent(encodeURIComponent(H.href||"")),"&_itemId=",encodeURIComponent(F),"&_title=",encodeURIComponent(H.innerHTML),"&_cacheItemIds=",encodeURIComponent(this.getCacheIds())].join("");this.displayUIString(P);this.fetchId=this.fetchId||1;this.fetchId+=1;var K=0;var E=document.body;var I=document.getElementsByName(H.name);var J=2;I=I[J]||I[J--]||I[J--]||H;if(I){var M=I.parentNode;var G=YAHOO.util.Dom.get(I.__summaryId);if(!G&&M){if(I.innerHTML.indexOf("Next")>=0){}while(M&&M.tagName!="LI"&&K<5){M=M.parentNode;K++;if(!M||K>5||M==E){break;}}if(M&&M.tagName=="LI"){G=M.getElementsByTagName("cite")[0]||M.getElementsByTagName("p")[0];}}}P.r__logo.innerHTML=YAHOO.ModulePlatform.getProperty(this.id,"title");P.r__bd.scrollTop=0;P.r__content.innerHTML=['<h4 class="rss-source"></h4><h3 class="rss-header"><a href="'+I.href+'" target="_blank">',I.innerHTML,'</a></h3><div class="rss-description">',(G)?G.innerHTML:"",'....<span class="ymy-icon-loading"><span></div>'].join("");var L=function(){var V=arguments[1].html;if(V.indexOf("<!--FIRST_FP-->")>-1){this.displayHelpPannel();}var R=arguments[0];var b=this._MediaRSSReader;YAHOO.util.Event.purgeElement(b.__context,true,"click");var Q=YAHOO.util.Dom.generateId();var S=YAHOO.util.Dom.generateId();if((R.fetchId>=this.fetchId)){var a=V.split("_YMY_RSS_PREFETCH_START_")[0];if(!arguments[1].cache){this.setCacheById(F,a);}b.r__content.innerHTML=a.split("_YMY_RSS_READER_ADVERTISEMENT_START_")[0];b.r__bd.scrollTop=0;var Z=a.split("_YMY_RSS_READER_ADVERTISEMENT_START_")[1]||"";Z=Z.split("_YMY_RSS_READER_ADVERTISEMENT_");if(Z.length==3){Z=Z[1];var U=function(){b.r__ads.innerHTML="";};if(b._timerToPlayAd){clearTimeout(b._timerToPlayAd);b._timerToPlayAd=setTimeout(U,2000);}else{b._timerToPlayAd=setTimeout(function(){},0);U();}}var T=YAHOO.util.Dom.getElementsByClassName("rss-header","h3",b.r__content)[0];if(T){var X=T.getElementsByTagName("a")[1];if(X&&YAHOO.util.Dom.hasClass(X,"play")){YAHOO.util.Event.on(X,"click",YAHOO.My.Controls.MediaPlayer._handleMediaPlayerClick,this,true);}}var W=YAHOO.util.Dom.getElementsByClassName("player","em",b.r__content)[0];if(W&&(W=W.getElementsByTagName("a")[0])){YAHOO.util.Event.on(W,"click",YAHOO.My.Controls.MediaPlayer._handleInlinePlayerClick,this,true);}if(!arguments[1].cache){this.setCacheFromRawData(V.split("_YMY_RSS_CACHE_CONTENT_")[1]);}else{var b=this._MediaRSSReader;}try{this.displayFullpostNavigationControl(b);}catch(Y){}}};var B=function(Q){P.r__content.innerHTML="fail";};var N={success:L,failure:B,scope:this,argument:{fetchId:this.fetchId}};var A=this.getCacheById(F);if(A){L.call(this,{fetchId:this.fetchId},{html:A,cache:true});}else{var O=YAHOO.My.RequestFactory.createRequestObjFromUrl(C);YAHOO.My.ArcadeRequest.makeRequest(N,O);}}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.Modules.type_comics={YUE:YAHOO.util.Event,YUD:YAHOO.util.Dom,__init:function(B,A){this._id=B;this._tt=YAHOO.ModuleAPI.getTooltip({showCloseButton:true,disableMouseOut:true});this._tt.addTarget(A,{onBeforeShow:this._onBodyClick,scope:this,pos:["t","l","r","b"],stopEvent:true},"click");this.__resize(B,A);},__resize:function(B,A){this._resizeInfoDivs();},_resizeInfoDivs:function(){if(navigator.userAgent.indexOf("Safari")==-1){return ;}var E=YAHOO.util.Dom.getElementsByClassName("suid_63808","div");for(var C=0;C<E.length;C++){var B=YAHOO.util.Dom.getElementsByClassName("info","div",E[C]);for(var A=0;A<B.length;A++){B[A].style.overflowX="hidden";B[A].style.width="295px";}}for(var C=0;C<E.length;C++){var D=E[C].offsetWidth;var B=YAHOO.util.Dom.getElementsByClassName("info","div",E[C]);for(var A=0;A<B.length;A++){B[A].style.width=D+"px";B[A].style.overflowX="auto";if(B[A].getElementsByTagName("img")[0].offsetWidth<D){B[A].style.width="100%";}}}},_onBodyClick:function(A,B){if(!B||B.tagName!="IMG"){if(B.tagName=="A"){window.open(B.href);}return false;}return A.scope._displayComic(A,B);},_displayComic:function(H,E){if(!E||E.src.toLowerCase().indexOf("http")!=0){return ;}var D=E.parentNode;var C=true;var J=YAHOO.util.Dom.getAncestorByClassName(E,"info");var F=(J.scrollWidth>J.offsetWidth)?J:YAHOO.util.Dom.getAncestorByTagName(E,"table");while(D&&D.parentNode){if(!D.href){D=D.parentNode;}else{break;}}if(!D||!D.href){C=false;}var A=E.src;var B=YUD.generateId();var K=E.width||E.offsetWidth;var I=E.height||E.offsetHeight;var G=(C)?D.href:"javascript:void(0)";H.width=(K+30)+"px";this._tt.show(F,H,'<div class="mri"><a href="'+G+'" class="foto loading"><img src="'+A+'" width="'+K+'" height="'+I+'" /></a></div>');return false;}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.Modules.type_pa={ANMTION_TIME:0.3,PRV_DIV_SIZE:118,PRV_DIV_INV_SIZE:0,PA_HOVER_DELAY:100,PA_PASS_THROUGH_DELAY:300,MOUSEOUT_DELAY:1000,REFRESH_TIME:300000,REQUEST_DELAY_TIMEOUT:5000,REQUEST_FAIL_TIMEOUT:8000,LOCAL_JS_EVAL_DELAY:10,loadingMsg:null,sCurrentPreviewSpanId:null,sCurrentModuleName:null,sOpenRowId:null,bLocationChanged:false,sLocalTabType:null,prvmouseoutTimeout:null,movertimeout:null,bPaInUse:false,oModuleMgr:null,sTemplateHdr:"<div class='pa-alert error'><ul><li class='first'>",sTemplateFtr:"</a></li></ul></div>",sId:null,elBody:null,elTabs:null,aReadOnlyButtons:null,__init:function(C,B,A){this.sId=C;this.elBody=B;this.elPaBody=YAHOO.util.Dom.get(this.sId+"_pabody");this.oModuleMgr={};this.aReadOnlyButtons=[];var J=A.modules;var F=A.ro||[];this.loadingMsg='<div class="loading"><div class="progress"></div><h3>'+YAHOO.My.Dict["str.editpanel.loading"]+"</h3></div>";for(var I in J){var H=J[I];this.oModuleMgr[I]={id:H.id,html:YAHOO.My.Dict["pa.cant_fetch_content"],status:false,buffer:false,requestDelayTimeout:null,requestFailTimeout:null,bProcessed:0,type:H.type,readOnly:false,customBtn:H.customBtn,deferred:H.deferred};}for(var E=F.length-1;E>=0;E--){this.oModuleMgr[F[E]].readOnly=true;}var G=this;var D=YAHOO.util.Event;document.body.appendChild(YAHOO.util.Dom.get("paeditmenucontainer"));this._initializeEditMenu();this._addListeners();D.addListener(this.elBody,"mouseout",this._handlePaMouseout,this,true);D.addListener(this.elBody,"mouseover",this._handlePaMouseover,this,true);D.addListener(this.sId+"_paeditdone","click",this.__beforeEdit,this,true);D.addListener(document,"click",this._documentClickListener,this,true);if(YAHOO.My.Application.isLoggedIn()){setTimeout(function(K){return function(){K.refreshButton(K.getDeferredButtons());};}(this),1000);}},__refresh:function(B,A){this.refreshAllButtons();},_getDefaultMessage:function(A){var B=this.oModuleMgr[A];return this.sTemplateHdr+B.html+this.sTemplateFtr;},_timer:function(A){var B=this;this.oModuleMgr[A].bProcessed=0;setTimeout(function(){B._timer(A);},this.REFRESH_TIME);},_processTabMouseover:function(B){var I=this.oModuleMgr[B].id;var G=this.sId+((B==="tr"||B==="tc"||B==="tl")?"_parow1":"_parow2");if(this.sCurrentModuleName===I||YAHOO.util.Dom.hasClass(this.elPaBody,"paeditmode")){return ;}var F=this.PRV_DIV_SIZE;var E=YAHOO.util.Dom;var D=this.oModuleMgr[B];var A=I+"preview";var H=document.getElementById(A);var C=document.getElementById(G+"previewdiv");if(this.sCurrentModuleName){E.removeClass("pabutton_"+this.sCurrentModuleName,"tab-on");E.replaceClass(this.sCurrentPreviewSpanId,"current","hidden");}this.sPreviewButtonPosition=B;this.sCurrentModuleName=I;this.sCurrentPreviewSpanId=A;if(!H){H=this._createModuleDataContainer(A);C.appendChild(H);}if(H.innerHTML===""||D.status==="error"||D.bProcessed==0){this._prepareRequest(H,B);}if(this.sOpenRowId===G){this._showModule();return ;}if(this.sOpenRowId){this._doAnimation(document.getElementById(this.sOpenRowId+"previewdiv"),this.PRV_DIV_INV_SIZE,false,true);}this._doAnimation(C,F,false);this.sOpenRowId=G;},_createModuleDataContainer:function(A){var B=document.createElement("span");B.id=A;return B;},_prepareRequest:function(C,A){var B=this.oModuleMgr[A];var D=B.id;C.innerHTML=this.loadingMsg;B.status="request";B.buffer=false;this.getModuleData(A);B.bProcessed=1;},_changeStyles:function(){var D=arguments[2];var B=YAHOO.util.Dom;if(D){var A=D.target;var C=document.getElementById("pabutton_"+A.sCurrentModuleName);var E=D.dPreviewDiv;if(D.bDivClose){B.removeClass(E,"preview-on");B.removeClass(C,"tab-on");B.replaceClass(A.sCurrentPreviewSpanId,"current","hidden");}else{B.addClass(E,"preview-on");B.addClass(C,"tab-on");}}},_doAnimation:function(G,B,F,D){var A=G["animationObject"];if(A){try{A.onComplete.unsubscribe(this._showModule,this);A.onStart.unsubscribe(this._changeStyles,this);A=null;}catch(E){}}var C=(document.uniqueID&&!window.XMLHttpRequest)?{height:{to:B}}:{minHeight:{to:B}};A=new YAHOO.util.Anim(G,C,this.ANMTION_TIME);A.onStart.subscribe(this._changeStyles,{target:this,dPreviewDiv:G,bDivClose:D});A.onComplete.subscribe(this._showModule,{target:this,row:G,height:B,bPaClose:F});A.animate();G["animationObject"]=A;},_showModule:function(){var A;if(arguments.length>2){var C=arguments[2];A=C.target;if(!C.height){if(C.bPaClose){}return ;}}else{A=this;YAHOO.util.Dom.addClass(document.getElementById("pabutton_"+A.sCurrentModuleName),"tab-on");}var B=A.oModuleMgr[A.sPreviewButtonPosition];A._showCurrentPanel(A.sCurrentPreviewSpanId);},_showCurrentPanel:function(F){var H=YAHOO.util.Dom;var C=arguments;var D=(C.length>1&&C[1]!="")?C[1]:"span";var B=(C.length>2&&C[2]!="")?C[2]:"current";var A=document.getElementById(F).parentNode.getElementsByTagName(D);var E=A.length,G;for(G=0;G<E;G++){if(H.hasClass(A[G],B)){H.replaceClass(A[G],B,"hidden");}}H.replaceClass(F,"hidden",B);},getModuleData:function(C){var E=this.oModuleMgr[C];var B=E.id;if(!B){return ;}var H=YAHOO.My.RequestFactory.createRequestObjById("show","paMouseover",B,{"_container":1});var D=this;var G=document.getElementById(this.sCurrentPreviewSpanId);this.dPreviewSpan=G;var F={responseContainer:G,referenceModuleName:C,referenceObject:this},A={success:this._processResponse,failure:function(){D._handleRequestTimeout(G,B,"error");},argument:F};E.requestDelayTimeout=setTimeout(function(){D._handleRequestTimeout(G,C,"wait");},this.REQUEST_DELAY_TIMEOUT);E.requestFailTimeout=setTimeout(function(){D._handleRequestTimeout(G,C,"error");},this.REQUEST_FAIL_TIMEOUT);YAHOO.My.ArcadeRequest.makeRequest(A,H,"/e/df");return false;},_handleRequestTimeout:function(F,A,C){var D=this.oModuleMgr[A];var E=D.id;if(C==="error"&&D.dScriptNode){this._removeScriptNode(D.dScriptNode);}D.status=C;var B=this._getDefaultMessage(A);if(E==="traffic"||E==="events"){YAHOO.Fp.display_map("traffic",{errorType:"timeout",html:B});}else{F.innerHTML=B;}},_processResponse:function(I,A){var C=A.html;var G=I;var K=G.responseContainer;var F=G.referenceObject;var B=G.referenceModuleName;var D=F.oModuleMgr[B];var J=D.id;var H;var K=document.getElementById(J+"preview");try{clearTimeout(D.requestDelayTimeout);clearTimeout(D.requestFailTimeout);if(C&&C!="-1"){D.buffer=C;if(D.status!="wait"&&D.status!="error"){K.innerHTML=C;YAHOO.ModulePlatform.set(A);setTimeout(function(){YAHOO.ModulePlatform.start(J);},500);D.status="success";}}else{F._handleRequestTimeout(K,B,"error");}}catch(E){F._handleRequestTimeout(K,B,"error");}},_addListeners:function(){for(var A in this.oModuleMgr){if(this.oModuleMgr[A].readOnly){this.aReadOnlyButtons.push(A);}this._addListenersToButton(A);}},_addListenersToButton:function(C){var B=this;var A=this.oModuleMgr[C].id;var D=A+"_button_"+C;var E=YUD.get(D);if(E){if(A!=="ERR"){YUE.addListener(E,"mouseover",function(G,F){return function(H){G._handleTabMouseover(H,F);};}(B,C));}YUE.addListener(E,"click",function(H,G,F){return function(I){H._addEditMenuToPaTab(I,G,F);};}(B,C,A));}},_handleTabMouseover:function(D,B){var C=this;clearTimeout(this.prvmouseoutTimeout);var A=(C.bPaInUse)?C.PA_HOVER_DELAY:C.PA_PASS_THROUGH_DELAY;this.movertimeout=setTimeout(function(){C.bPaInUse=true;C._processTabMouseover(B);},A);},_handlePaMouseover:function(A){clearTimeout(this.prvmouseoutTimeout);},_handlePaMouseout:function(C,B){clearTimeout(B.movertimeout);var A=YUE.getXY(C);B.prvmouseoutTimeout=setTimeout(function(){B._processPaMouseout(A);},B.MOUSEOUT_DELAY);},_processPaMouseout:function(A){var B=YUD.getRegion(this.elBody);if(A[0]=="-1"){return false;}if(A[0]>=B.left&&A[0]<=B.right&&A[1]>=B.top&&A[1]<=B.bottom){return false;}this._cleanUpModules();},_cleanUpModules:function(){this.bPaInUse=false;if(this.sOpenRowId){this._doAnimation(document.getElementById(this.sOpenRowId+"previewdiv"),this.PRV_DIV_INV_SIZE,true,true);}for(var B in this.oModuleMgr){var A=this.oModuleMgr[B].id;if(A){YAHOO.ModulePlatform.stop(A);this.oModuleMgr[B].bProcessed=0;}}this.refreshButton(this.getCustomButtons());this.sCurrentPreviewSpanId=null;this.sCurrentModuleName=null;this.sOpenRowId=null;},_initializeEditMenu:function(){var A=YAHOO.util.Dom.get("paeditmenu");YAHOO.util.Event.addListener(A,"click",function(B){YAHOO.util.Event.stopEvent(B);this._getNewModuleData(B);},this,true);},_getNewModuleData:function(D){var C=D.srcElement||D.target;if(typeof (C.tagName)==="undefined"||C.tagName!=="A"){return ;}var A=this.sButtonPosition;var B={success:this._handleButtonUpdate,failure:this._handleButtonUpdate,argument:{pos:A},scope:this};var E=YAHOO.My.RequestFactory.createRequestObjById("save","change_button",this.sId,{"_newSuid":C.id,"_pos":A});YAHOO.My.ArcadeRequest.makeRequest(B,E);YAHOO.util.Dom.setStyle("paeditmenucontainer","display","none");},_handleButtonUpdate:function(D,A){var C=A.id||A.props.id;var B=this.getPositionByModuleId(C)||D.pos;var F="pabutton_"+this.oModuleMgr[B].id;var G=YUD.get(F);if(!G){return false;}this.oModuleMgr[B].id=C;this.oModuleMgr[B].bProcessed=0;YAHOO.util.Event.purgeElement(G);var H=document.createElement("div");H.innerHTML=A.html;var E=H.getElementsByTagName("LI")[0];E.className=G.className;G.parentNode.replaceChild(E,G);this._addListenersToButton(B);this.sCurrentModuleName=null;},getPositionByModuleId:function(A){for(var B in this.oModuleMgr){if(this.oModuleMgr[B].id===A){return B;}}},getCustomButtons:function(){var A=[];for(var B in this.oModuleMgr){if(this.oModuleMgr[B].customBtn){A.push(B);}}return A;},getDeferredButtons:function(){var A=[];for(var B in this.oModuleMgr){if(this.oModuleMgr[B].deferred){A.push(B);}}return A;},refreshAllButtons:function(){this.refreshButton(["tl","tc","tr","bl","bc","br"]);},refreshButton:function(A){var F=[];if(!(A instanceof Array)){A=[A];}var C={success:this._handleButtonUpdate,failure:this._handleButtonUpdate,scope:this};for(var D=0;D<A.length;D++){var B=A[D];var E="/?_action=show&_subAction=paButton&_container=0&_paPosition="+B+"&_id="+this.oModuleMgr[B].id;F.push(YAHOO.My.RequestFactory.createRequestObjFromUrl(E));}if(F.length){YAHOO.My.ArcadeRequest.makeRequest(C,F);}},__beforeEdit:function(G,F){if(YAHOO.ModulePlatform.getProperty(G,"collapsed")){YAHOO.ModulePlatform.expandView(G,{refresh:false});}var E=YAHOO.util.Dom;var B=this.elPaBody;if(E.hasClass(B,"paeditmode")){for(var D=0,A=this.aReadOnlyButtons.length;D<A;D++){var C="pabutton_"+this.oModuleMgr[this.aReadOnlyButtons[D]].id;E.removeClass(C,"readonly");}E.removeClass(B,"paeditmode");YAHOO.util.Dom.setStyle("paeditmenucontainer","display","none");}else{this._cleanUpModules();E.addClass(B,"paeditmode");for(var D=0,A=this.aReadOnlyButtons.length;D<A;D++){var C="pabutton_"+this.oModuleMgr[this.aReadOnlyButtons[D]].id;E.addClass(C,"readonly");}}},_documentClickListener:function(B){var A=YAHOO.util.Dom;if(A.hasClass(this.elPaBody,"paeditmode")&&(A.getStyle("paeditmenucontainer","display")==="block")){A.setStyle("paeditmenucontainer","display","none");}},_addEditMenuToPaTab:function(E,B,A){var C=YAHOO.util.Dom;var D=C.get("paeditmenucontainer");if(!C.hasClass(this.elPaBody,"paeditmode")){return ;}YAHOO.util.Event.stopEvent(E);if(this.oModuleMgr[B].readOnly){YAHOO.util.Dom.setStyle(D,"display","none");return ;}var G=YUD.get(A+"_button_"+B);var F=YUD.get("pabutton_"+A);C.setStyle(D,"display","block");C.setX(D,C.getX(F)+F.offsetWidth-D.offsetWidth-20);C.setY(D,C.getY(F)+F.offsetHeight-3);this.sButtonPosition=B;this.dButtonClicked=G;}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.Modules.type_weather={id:null,tooltip:null,cache:null,YUE:YAHOO.util.Event,YUD:YAHOO.util.Dom,YMR:YAHOO.My.RequestFactory,__init:function(C,A,B){this.id=C;if(B){this.cache=B.citytips;}this.updateLayout();this.tooltip=YAHOO.ModuleAPI.getTooltip({showCloseButton:true});this.tooltip.addTarget(A,{width:"200px",pos:["l","r"],onBeforeShow:this._beforeShowTip,dismissDelay:0,argument:{mod:this}});this.YUE.addListener("bd_"+this.id,"click",this._handleClick,this,true);},__destroy:function(A){this.YUE.removeListener("bd_"+this.id,"click",this._handleClick);},__beforeRefresh:function(){this.tooltip.destroy();},__edit:function(G,D){this.editPanel=D;var F=this.YUD.getElementsByClassName("search-box","input",G);this.YUE.on(F,"focus",this.searchFocus,this,true);var C=new YAHOO.My.Controls.CustomList("my-wthr-locations");C.setOptions([{id:"up",text:"up",className:"up",title:"Move Up"},{id:"down",text:"down",className:"down"},{id:"remove",text:"remove",className:"remove"}]);C.optionEvent.subscribe(function(J,H,I){switch(H[0].optionId){case"up":this.moveItemBy(H[0].item,-1);break;case"down":this.moveItemBy(H[0].item,1);break;case"remove":C.remove(H[0].item.id);break;}});C.render();this.mylocations=C;var B=new YAHOO.My.Controls.CustomList("ed-box-results");B.setOptions([{id:"add",text:"add",className:"add",title:"Add Location"},{id:"expand",text:"expand",className:"expand",title:"Expand Location"}]);B.optionEvent.subscribe(function(L,H,K){switch(H[0].optionId){case"add":if(this.mylocations.getItem(H[0].item.id)){break;}this.mylocations.add(H[0].item.data);this.myresults.items[H[0].item.id].element.innerHTML='<span class = "added-text">'+H[0].item.data.text+"</span>";break;case"expand":var J=this.mystates[H[0].item.data.data.arraypos].cities;this.myresults.clear();this.myresults.add(J);for(var I=0;I<J.length;I++){if(this.mylocations.getItem(J[I].id)){this.myresults.items[J[I].id].element.innerHTML='<span class = "added-text">'+J[I].text+"</span>";}}}},this,true);B.render();this.myresults=B;var E=this.YMR.createRequestObjById("show","getCityList",this.id);var A={success:this.populateCityList,failure:this.populateCityList,scope:this};YAHOO.My.ArcadeRequest.makeRequest(A,E);},__resize:function(){this.updateLayout();},_handleClick:function(A){A=this.YUE.getEvent(A);var B=this.YUE.getTarget(A);if(this.YUD.hasClass(B,"toggle")){this.YUE.preventDefault(A);this.toggleView(B);}else{if(this.YUD.hasClass(B,"nolink")){this.YUE.preventDefault(A);}else{if(this.YUD.hasClass(B,"searchtext")){this.clearText(B);}else{if(this.YUD.hasClass(B,"openedit")){YUE.stopEvent(A);YAHOO.ModuleAPI.openEdit(this.id);}}}}},_beforeShowTip:function(B,C){var A=B.argument.mod;if(YAHOO.util.Dom.hasClass(C,"details")){var D=C.id.split("_");if(A.cache[D[0]]){this.setContent(A.cache[D[0]][D[1]]);return true;}}return false;},toggleView:function(F){var I=YAHOO.My.RequestFactory;var A=this.YUD.get("weathermod_"+this.id);var H=this.YUD.get(["full_"+this.id,"compact_"+this.id,"classic_"+this.id]);var E="full";var G=0;for(var D=0,C=H.length;D<C;D++){this.YUD.replaceClass(H[D],"nolink","toggle");this.YUD.removeClass(H[D],"text-color");}switch(F.id){case ("full_"+this.id):E="full";G=0;break;case ("compact_"+this.id):E="compact";G=1;break;case ("classic_"+this.id):E="classic";G=2;break;}this.YUD.replaceClass(H[G],"toggle","nolink");this.YUD.addClass(H[G],"text-color");this.YUD.removeClass(A,"full");this.YUD.removeClass(A,"classic");this.YUD.removeClass(A,"compact");this.YUD.addClass(A,E);var B=this.YMR.createRequestObjById("save","toggle",this.id,{"_vm":G});YAHOO.My.ArcadeRequest.makeRequest(function(){},B);return ;},clearText:function(A){if(A.value==YAHOO.My.Dict["str.weather.searchbox"]){A.value="";A.className+=" dark";}},searchFocus:function(B,A){var D=A.id;var C=YUD.getElementsByClassName("search-box","input",D);YUD.get(D+"_sBox").value="";YUE.removeListener(C,"focus",this.searchFocus);},updateLayout:function(){var B=this.YUD.get("weathermod_"+this.id);var A=YAHOO.My.Application.isFontLarge;var C=(A)?580:480;if(B){if(B.offsetWidth<C){this.YUD.removeClass(B,"big-view");}else{this.YUD.addClass(B,"big-view");}}},populateCityList:function(B,A){this.mylocations.clear();this.mylocations.add(A.data.citylist);},saveCityList:function(){var D=this.mylocations.getItemCount();var B=this.mylocations.getItems();for(var C=0;C<D;C++){B[C]=B[C].id;}var E=B.join(",");var E=E.replace(/wthr-/g,"");YAHOO.ModuleAPI.closeEdit(this.id);var F=this.YMR.createRequestObjById("save","citylist",this.id,{citylist:E});var A={success:function(){YAHOO.ModuleAPI.refreshModule(this.id);},failure:function(){YAHOO.ModuleAPI.refreshModule(this.id);},scope:this};YAHOO.My.ArcadeRequest.makeRequest(A,F);},submitForm:function(B){var C=this.YMR.createRequestObjFromForm(B);var A={success:this.handleSearchResults,failure:this.handleSearchResults,scope:this};YAHOO.My.ArcadeRequest.makeRequest(A,C);return false;},handleSearchResults:function(D,A){if(A.data){var F=A.data.wthrlocs.citylist.length;var B=A.data.wthrlocs.statelist.length;if(F+B>0){this._noResults(false);this.mystates=A.data.wthrlocs.statelist;this.myresults.clear();for(var C=0;C<B;C++){this.myresults.add({"id":"state-"+A.data.wthrlocs.statelist[C].state,"text":A.data.wthrlocs.statelist[C].state,"className":"expand","data":{"arraypos":C}});}var E=this.YUD.get("ed-box-results");this.myresults.add(A.data.wthrlocs.citylist);if(E){E.scrollTop=0;}for(var C=0;C<F;C++){if(this.mylocations.getItem(A.data.wthrlocs.citylist[C].id)){this.myresults.items[A.data.wthrlocs.citylist[C].id].element.innerHTML='<span class = "added-text">'+A.data.wthrlocs.citylist[C].text+"</span>";}}if(this.myresults.getItemCount()<1){this._noResults(true);}}else{this._noResults(true);}}else{YAHOO.ModuleAPI.closeEdit(null,null);}},_noResults:function(A){if(A){this.YUD.setStyle(this.YUD.get("ed-no-results"),"display","block");this.YUD.setStyle(this.YUD.get("ed-box-results"),"display","none");}else{this.YUD.setStyle(this.YUD.get("ed-box-results"),"display","block");this.YUD.setStyle(this.YUD.get("ed-no-results"),"display","none");}}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.Modules.type_quotes={DOM:YAHOO.util.Dom,YMR:YAHOO.My.RequestFactory,id:null,tooltip:null,__init:function(H,C){this.id=H;this.dBody=C;this.tooltip=YAHOO.ModuleAPI.getTooltip({showCloseButton:true});this.attachEvents();var F=YUD.getElementsByClassName("pf-timedout","LI",C);for(var D=0;D<F.length;D++){var B=YUD.getElementsByClassName("pf-bd","DIV",F[D])[0];var G=B.getAttribute("pf");if(!G){continue;}var E=YAHOO.My.RequestFactory.createRequestObjById("show","pfload",this.id,{_container:0,pfname:G});var A={success:this.loadDeferredPortfolio,scope:this,argument:{target:B}};YAHOO.My.ArcadeRequest.makeRequest(A,E);}},loadDeferredPortfolio:function(C,B){var A=C.target;A.innerHTML=B.html;},__destroy:function(A){this.tooltip.destroy();},__beforeRefresh:function(A){YUE.removeListener(this.dBody,"click",this._handleClick);this.tooltip.destroy();},attachEvents:function(){var A=this;YUE.addListener(this.dBody,"click",this._handleClick,this,true);this.tooltip.addTarget(this.dBody,{width:"275px",onBeforeShow:this._onBeforeToolTipDisplay,argument:{oModule:A}});},displayStockInformation:function(B,A){if(this.tooltip.isVisible()){this.tooltip.show(B.parentNode,{},A.html);}},expandCollapsePortfolios:function(E,B){YAHOO.util.Event.preventDefault(E);var G=this.DOM.hasClass(B,"subhd-collapse-closed");var F=B.id.match(/portfolio-norgie-(.+?)$/)[1];F=this.id+"_portfolio-symbs-"+F;var A;if(G){A=1;this.DOM.replaceClass(B,"subhd-collapse-closed","subhd-collapse");this.DOM.replaceClass(F,"portfolio-symbols-hide","portfolio-symbols-show");}else{A=0;this.DOM.replaceClass(B,"subhd-collapse","subhd-collapse-closed");this.DOM.replaceClass(F,"portfolio-symbols-show","portfolio-symbols-hide");}var D=B.href+"&newstate="+A;var C=YAHOO.My.RequestFactory.createRequestObjFromUrl(D);YAHOO.My.ArcadeRequest.makeRequest({},C);return false;},_onBeforeToolTipDisplay:function(D,F){if(!F||F.tagName!="DIV"){return false;}if(!YUD.hasClass(F,"bubble-icon")){return false;}var E=D.argument.oModule;D.proxyTarget=F.parentNode;this.setContent('<div class="loading-data"></div>',true);var C=F.getAttribute("ticker");if(!C){return false;}var G={"symbol":C,"_container":0};var B=YAHOO.My.RequestFactory.createRequestObjById("show","bubble",E.id,G);var A={success:E.displayStockInformation,scope:E,argument:F};YAHOO.My.ArcadeRequest.makeRequest(A,B);return true;},_handleClick:function(B){var A=YUE.getTarget(B);if(A.tagName!="A"){return ;}if(YUD.hasClass(A,"quote-toggle")){this.expandCollapsePortfolios(B,A);}else{if(A.id==this.id+"_refresh"){YAHOO.ModuleAPI.refreshModule(this.id);}}},__edit:function(F,D){if(!document.getElementById("my-pf-list")){return ;}this.editPanel=D;var C=new YAHOO.My.Controls.CustomList("my-pf-list");C.setOptions([{id:"up",text:"up",className:"up",title:"Move Up"},{id:"down",text:"down",className:"down"}]);C.optionEvent.subscribe(function(I,G,H){switch(G[0].optionId){case"up":this.moveItemBy(G[0].item,-1);break;case"down":this.moveItemBy(G[0].item,1);break;}});C.render();this.mypflist=C;var E=this.YMR.createRequestObjById("show","getPortfolioList",this.id);var A={success:this.populatePortfolioList,failure:this.populatePortfolioList,scope:this};YAHOO.My.ArcadeRequest.makeRequest(A,E);var B=this.DOM.getElementsByClassName("ymy-button","button",this.editPanel)[0];YUE.addListener(B,"click",this.savePreference,this,true);},populatePortfolioList:function(B,A){this.mypflist.clear();this.mypflist.add(A.data.pfo);},savePreference:function(){var G=this.DOM.getElementsByClassName("change-box")[0];var F=this.DOM.getElementsByClassName("percent-box")[0];var H=G.checked?1:0;var D=F.checked?1:0;var B=this.mypflist.getItemCount();var E=this.mypflist.getItems();for(var A=0;A<B;A++){E[A]=E[A].id;}var C=E.join(",");YAHOO.ModuleAPI.closeEdit(this.id);var J=this.YMR.createRequestObjById("save","",this.id,{change:H,percent:D,pfo:C});var I={success:function(){YAHOO.ModuleAPI.refreshModule(this.id);},failure:function(){YAHOO.ModuleAPI.refreshModule(this.id);},scope:this};YAHOO.My.ArcadeRequest.makeRequest(I,J);}};/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
YAHOO.namespace("My.Components");YAHOO.My.Components.PageOptions={pmenu:null,pcontent:"p-content",pappearance:"p-appearance",poptions:"p-options",__init:function(){YAHOO.util.Event.addListener("pageoptions","click",this.handleClick,this,true);YAHOO.My.Components.SubJaw.closeEvent.subscribe(this.closeJaw,this,true);},handleClick:function(A){var C=YAHOO.util.Event;var D=YAHOO.util.Dom;A=C.getEvent(A);C.stopEvent(A);var B=C.getTarget(A);while(B.tagName.toLowerCase()!="li"){B=B.parentNode;if(B.id=="pageoptions"){return ;}}if(!D.hasClass(B,"selected")){switch(B.id){case (this.pcontent):this.togglePersonalizationDialog("content");break;case (this.pappearance):this.togglePersonalizationDialog("appearance");break;case (this.poptions):this.togglePersonalizationDialog("options");break;}}else{YAHOO.My.Components.SubJaw.close();}},initPersonalizationDialog:function(A){var B=YAHOO.util.Dom;B.removeClass([this.pcontent,this.pappearance,this.poptions],"selected");B.addClass(this["p"+A],"selected");YAHOO.My.Application.showPersonalizationDialog(A);},togglePersonalizationDialog:function(C){var B=YAHOO.util.Dom.get("p-"+C);if(B&&YAHOO.util.Dom.hasClass(B,"selected")){return ;}if(!YAHOO.My.Components.SubJaw.isClosed()){var A=new Image();YAHOO.My.Components.Instrumentation.fireUltBeacon({"t":"e-page","act":"switchtojaw","tab":C},A);}YAHOO.My.Components.SubJaw.open({oncomplete:this.initPersonalizationDialog,scope:this,arguments:C});},closeJaw:function(){var A=YAHOO.util.Dom;A.removeClass([this.pcontent,this.pappearance,this.poptions],"selected");}};YAHOO.My.Application.register(YAHOO.My.Components.PageOptions,{when:"asap"});/* Copyright (c) 2009, Yahoo! Inc.  All rights reserved. */
